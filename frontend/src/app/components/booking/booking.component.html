<div class="booking-container">
  <div class="container">
    <!-- Header -->
    <div class="booking-header">
      <h2 class="page-title">Complete Your Booking</h2>
      <p class="page-subtitle">Review flight details and enter passenger information</p>
    </div>

    <div class="row">
      <!-- Flight Summary -->
      <div class="col-lg-4">
        <div class="flight-summary" *ngIf="flight">
          <h5 class="summary-title">
            <span class="title-icon">‚úàÔ∏è</span>
            Flight Summary
          </h5>

          <div class="flight-card">
            <div class="airline-header">
              <div class="airline-info">
                <div class="airline-logo">{{getAirlineIcon(flight.airline)}}</div>
                <div>
                  <h6 class="airline-name">{{flight.airline}}</h6>
                  <span class="flight-number">{{flight.flightNumber}}</span>
                </div>
              </div>
            </div>

            <div class="route-info">
              <div class="route-section">
                <div class="route-point">
                  <div class="time">{{flight.departureTime}}</div>
                  <div class="location">{{flight.source}}</div>
                  <div class="code">{{getAirportCode(flight.source)}}</div>
                </div>

                <div class="route-middle">
                  <div class="duration">{{flight.duration}}</div>
                  <div class="route-line">
                    <span class="line"></span>
                    <span class="plane-icon">‚úà</span>
                  </div>
                  <div class="direct">Direct</div>
                </div>

                <div class="route-point">
                  <div class="time">{{flight.arrivalTime}}</div>
                  <div class="location">{{flight.destination}}</div>
                  <div class="code">{{getAirportCode(flight.destination)}}</div>
                </div>
              </div>
            </div>

            <div class="price-summary">
              <hr class="price-divider">
              <div class="price-total">
                <span>Total Amount</span>
                <span class="total-price">‚Çπ{{flight.price}}</span>
              </div>
            </div>

            <div class="included-services">
              <h6 class="services-title">Included Services</h6>
              <div class="services-list">
                <div class="service-item">üß≥ Check-in Baggage (20kg)</div>
                <div class="service-item">üéí Cabin Baggage (7kg)</div>
                <div class="service-item">üçΩÔ∏è Complimentary Meal</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Passenger Form -->
      <div class="col-lg-8">
        <div class="form-container">
          <h5 class="form-title">
            <span class="title-icon">üë§</span>
            Passenger Information
          </h5>

          <form [formGroup]="passengerForm" (ngSubmit)="proceedToPay()" class="passenger-form">
            <div class="form-section">
              <h6 class="section-title">Personal Details</h6>
              <div class="form-row">
                <div class="form-group col-12">
                  <label class="form-label">Full Name *</label>
                  <input formControlName="name" type="text" class="form-control"
                    [class.is-invalid]="passengerForm.get('name')?.invalid && passengerForm.get('name')?.touched"
                    placeholder="Enter full name as per ID">
                  <div class="invalid-feedback"
                    *ngIf="passengerForm.get('name')?.invalid && passengerForm.get('name')?.touched">
                    Please enter a valid name (minimum 3 characters)
                  </div>
                </div>
              </div>

              <div class="form-row">
                <div class="form-group col-md-6">
                  <label class="form-label">Age *</label>
                  <input formControlName="age" type="number" class="form-control"
                    [class.is-invalid]="passengerForm.get('age')?.invalid && passengerForm.get('age')?.touched"
                    placeholder="Age">
                  <div class="invalid-feedback"
                    *ngIf="passengerForm.get('age')?.invalid && passengerForm.get('age')?.touched">
                    Please enter a valid age
                  </div>
                </div>

                <div class="form-group col-md-6">
                  <label class="form-label">Gender *</label>
                  <select formControlName="gender" class="form-control"
                    [class.is-invalid]="passengerForm.get('gender')?.invalid && passengerForm.get('gender')?.touched">
                    <option value="">Select Gender</option>
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                    <option value="Other">Other</option>
                  </select>
                  <div class="invalid-feedback"
                    *ngIf="passengerForm.get('gender')?.invalid && passengerForm.get('gender')?.touched">
                    Please select your gender
                  </div>
                </div>
              </div>
            </div>

            <div class="form-section">
              <h6 class="section-title">Contact Information</h6>
              <div class="form-row">
                <div class="form-group col-md-6">
                  <label class="form-label">Email Address *</label>
                  <input formControlName="email" type="email" class="form-control"
                    [class.is-invalid]="passengerForm.get('email')?.invalid && passengerForm.get('email')?.touched"
                    placeholder="your.email@example.com">
                  <div class="invalid-feedback"
                    *ngIf="passengerForm.get('email')?.invalid && passengerForm.get('email')?.touched">
                    Please enter a valid email address
                  </div>
                </div>

                <div class="form-group col-md-6">
                  <label class="form-label">Phone Number *</label>
                  <input formControlName="phone" type="tel" class="form-control"
                    [class.is-invalid]="passengerForm.get('phone')?.invalid && passengerForm.get('phone')?.touched"
                    placeholder="10-digit mobile number">
                  <div class="invalid-feedback"
                    *ngIf="passengerForm.get('phone')?.invalid && passengerForm.get('phone')?.touched">
                    Please enter a valid 10-digit phone number
                  </div>
                </div>
              </div>
            </div>

            <!-- Important Notes -->
            <div class="info-alert">
              <div class="alert-icon">‚ÑπÔ∏è</div>
              <div class="alert-content">
                <h6 class="alert-title">Important Information</h6>
                <ul class="alert-list">
                  <li>Ensure name matches your government-issued ID</li>
                  <li>Arrive at airport 2 hours before departure</li>
                  <li>Valid ID proof required for check-in</li>
                </ul>
              </div>
            </div>

            <!-- Action Buttons -->
            <div class="form-actions">
              <button type="button" class="btn btn-secondary" (click)="goBack()">
                ‚Üê Back to Results
              </button>

              <button type="submit" class="btn btn-primary" [disabled]="passengerForm.invalid">
                <span class="btn-icon">üí≥</span>
                Proceed to Payment
                <span class="btn-arrow">‚Üí</span>
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
